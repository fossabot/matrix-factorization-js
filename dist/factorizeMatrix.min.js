"use strict";function n(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e-4,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.02,v=n.length,l=n[0].length,h=a(v,t,function(){return Math.random()}),p=r(a(l,t,function(){return Math.random()})),m=n.length,g=n[0].length;return c(e,function(){for(var r=0;r<m;r++)for(var e=0;e<g;e++){var a=n[r][e];if(a>0)for(var c=a-o(h[r],u(p,e)),v=0;v<t;v++)h[r][v]=h[r][v]+i*(2*c*p[v][e]-d*h[r][v]),p[v][e]=p[v][e]+i*(2*c*h[r][v]-d*p[v][e])}for(var l=0;l<m;l++)for(var s=0;s<g;s++){var w=n[l][s];if(w>0){f(w-o(h[l],u(p,s)));for(var M=0;M<t;M++)f(h[l][M]),f(h[M][s])}}}),[h,r(p)]}function r(n){return t(n)?a(n[0].length,n.length,function(){return 0}).map(function(r,t){return r.map(function(r,o){return n[o][t]})}):n}function t(n){return Array.isArray(n[0])}function o(n,o){var u=r(o);return t(n)||t(o)?n.map(function(n){return u.map(function(r){return e(n,r)})}):e(n,o)}function u(n,r){return n.map(function(n){return n[r]})}function e(n,r){return i(n,r,function(n,r){return n*r}).reduce(function(n,r){return n+r})}function i(n,r,t){return n.map(function(n,o){return t(n,r[o])})}function f(n){return Math.pow(n,2)}function a(n,r){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return 0},o=[],u=0;u<n;u++){o.push([]);for(var e=0;e<r;e++)o[u][e]=t()}return o}function c(n,r){for(var t=0;t++<n;)r()}var d={factorizeMatrix:n,fillMatrix:a,transpose:r,dot:o};"undefined"!=typeof module&&module.exports?module.exports=d:(window.factorizeMatrix=n,window.fillMatrix=a,window.transpose=r,window.dot=o);